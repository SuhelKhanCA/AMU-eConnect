{% extends 'layout.html' %}

{% block main %}
<!-- =========Search Tab========== -->
<div class="container mb-4">
    <div class="nav nav-tabs">
        <div class="d-flex flex-column flex-md-row w-100">
            <!-- Department Dropdown -->
            <div class="btn-group me-2 mb-2 mb-md-0">
                <button type="button" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Department
                </button>
                <ul class="dropdown-menu dropdown-menu-center">
                    <li><button class="dropdown-item department-item" type="button" data-value="">Select Department</button></li>
                    {% for department in departments %}
                        <li><button class="dropdown-item department-item" type="button" data-value="{{ department[0] }}">{{ department[0] }}</button></li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Course Dropdown -->
            <div class="btn-group me-2 mb-2 mb-md-0">
                <button type="button" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Course
                </button>
                <ul class="dropdown-menu dropdown-menu-center">
                    <li><button class="dropdown-item course-item" type="button" data-value="">Select Course</button></li>
                    {% for course in courses %}
                        <li><button class="dropdown-item course-item" type="button" data-value="{{ course[0] }}">{{ course[0] }}</button></li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Year of Passing Dropdown -->
            <div class="btn-group me-2 mb-2 mb-md-0">
                <button type="button" class="btn btn-outline-dark dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
                    Year of Passing
                </button>
                <ul class="dropdown-menu dropdown-menu-center">
                    <li><button class="dropdown-item year-item" type="button" data-value="">Select Year</button></li>
                    {% for year in passing_years %}
                        <li><button class="dropdown-item year-item" type="button" data-value="{{ year[0] }}">{{ year[0] }}</button></li>
                    {% endfor %}
                </ul>
            </div>

            <!-- Search Input and Button -->
            <div class="ms-auto w-100">
                <form class="d-flex w-100" role="search">
                    <input id="searchInput" class="form-control me-2 mb-2 mb-md-0 flex-grow-1" type="search" placeholder="Search Name or Enrollment No." aria-label="Search" />
                    <button id="searchButton" class="btn btn-outline-dark" type="button">Search</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Cards Container -->
<div class="container">
    <div class="row row-cols-1 row-cols-md-3 g-4" id="cardsContainer">
        {% for card in cards %}
        <div class="col">
            <div class="card h-100">
                <img src="data:image/jpeg;base64,{{ card.user_image }}" class="card-img-top img-fluid d-block w-100" style="height: 300px" alt="{{ card.name }}" />
                <div class="card-body">
                    <h5 class="card-title">{{ card.name }}</h5>
                    <p class="card-text">{{ card.course }} - {{ card.department }} {{ card.passing_year }}</p>
                    <p>{{card.short_desc}}</p>
                </div>
                <a href="{{ url_for('profile', user_id=card.id) }}" class="btn btn-dark mb-1 ">View Profile</a>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

<script src="static/main.js"></script>
{% endblock main %}